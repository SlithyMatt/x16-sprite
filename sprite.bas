1 REM PROGRAM: SPRITE TEST


1699 REM SPRINT FRAME OFFSETS
1700 FH(0) = $00 : FH(1) = $04 : FH(2) = $08 : FH(3) = $04
1710 FV(0) = $00 : FV(1) = $0C : FV(2) = $10 : FV(3) = $0C
1720 HZ = 1
1800 CF = 0 : REM CURRENT FRAME

1999 REM ENABLE SPRITES
2000 POKE $9F29,($40 OR PEEK($9F29))

2099 REM SET SPRITE DATA
2100 VPOKE $1,$FC10,$00
2200 VPOKE $1,$FC11,$07 : REM 4BPP, ADDRESS $0E000
2300 VPOKE $1,$FC12,$80 : REM XPOS 128
2400 VPOKE $1,$FC13,$00
2450 X = 128
2500 VPOKE $1,$FC14,$80 : REM YPOS 128
2600 VPOKE $1,$FC15,$00
2650 Y = 128
2700 VPOKE $1,$FC16,$0C : REM NO COLLISION, ZDEPTH 3, NO FLIP
2800 VPOKE $1,$FC17,$50 : REM 16X16 PIXELS, PALETTE OFFSET 0

3000 DATA $00,$00,$00,$77,$77,$00,$00,$00
3001 FOR I=0 TO 7: READ B: VPOKE $0,$E000+I,B: NEXT I
3002 DATA $00,$00,$77,$77,$77,$77,$00,$00
3003 FOR I=0 TO 7: READ B: VPOKE $0,$E008+I,B: NEXT I
3004 DATA $00,$07,$77,$77,$77,$77,$70,$00
3005 FOR I=0 TO 7: READ B: VPOKE $0,$E010+I,B: NEXT I
3006 DATA $00,$77,$77,$77,$77,$77,$77,$00
3007 FOR I=0 TO 7: READ B: VPOKE $0,$E018+I,B: NEXT I
3008 DATA $07,$77,$77,$77,$77,$77,$77,$70
3009 FOR I=0 TO 7: READ B: VPOKE $0,$E020+I,B: NEXT I
3010 DATA $07,$77,$77,$77,$77,$77,$77,$70
3011 FOR I=0 TO 7: READ B: VPOKE $0,$E028+I,B: NEXT I
3012 DATA $77,$77,$77,$77,$77,$77,$77,$77
3013 FOR I=0 TO 7: READ B: VPOKE $0,$E030+I,B: NEXT I
3014 DATA $77,$77,$77,$77,$77,$77,$77,$77
3015 FOR I=0 TO 7: READ B: VPOKE $0,$E038+I,B: NEXT I
3016 DATA $77,$77,$77,$77,$77,$77,$77,$77
3017 FOR I=0 TO 7: READ B: VPOKE $0,$E040+I,B: NEXT I
3018 DATA $77,$77,$77,$77,$77,$77,$77,$77
3019 FOR I=0 TO 7: READ B: VPOKE $0,$E048+I,B: NEXT I
3020 DATA $07,$77,$77,$77,$77,$77,$77,$70
3021 FOR I=0 TO 7: READ B: VPOKE $0,$E050+I,B: NEXT I
3022 DATA $07,$77,$77,$77,$77,$77,$77,$70
3023 FOR I=0 TO 7: READ B: VPOKE $0,$E058+I,B: NEXT I
3024 DATA $00,$77,$77,$77,$77,$77,$77,$00
3025 FOR I=0 TO 7: READ B: VPOKE $0,$E060+I,B: NEXT I
3026 DATA $00,$07,$77,$77,$77,$77,$70,$00
3027 FOR I=0 TO 7: READ B: VPOKE $0,$E068+I,B: NEXT I
3028 DATA $00,$00,$77,$77,$77,$77,$00,$00
3029 FOR I=0 TO 7: READ B: VPOKE $0,$E070+I,B: NEXT I
3030 DATA $00,$00,$00,$77,$77,$00,$00,$00
3031 FOR I=0 TO 7: READ B: VPOKE $0,$E078+I,B: NEXT I
3032 DATA $00,$00,$00,$77,$77,$00,$00,$00
3033 FOR I=0 TO 7: READ B: VPOKE $0,$E080+I,B: NEXT I
3034 DATA $00,$00,$77,$77,$77,$77,$00,$00
3035 FOR I=0 TO 7: READ B: VPOKE $0,$E088+I,B: NEXT I
3036 DATA $00,$07,$77,$77,$77,$77,$70,$00
3037 FOR I=0 TO 7: READ B: VPOKE $0,$E090+I,B: NEXT I
3038 DATA $00,$77,$77,$77,$77,$77,$77,$00
3039 FOR I=0 TO 7: READ B: VPOKE $0,$E098+I,B: NEXT I
3040 DATA $07,$77,$77,$77,$77,$77,$77,$70
3041 FOR I=0 TO 7: READ B: VPOKE $0,$E0A0+I,B: NEXT I
3042 DATA $07,$77,$77,$77,$77,$77,$00,$00
3043 FOR I=0 TO 7: READ B: VPOKE $0,$E0A8+I,B: NEXT I
3044 DATA $77,$77,$77,$77,$77,$00,$00,$00
3045 FOR I=0 TO 7: READ B: VPOKE $0,$E0B0+I,B: NEXT I
3046 DATA $77,$77,$77,$77,$00,$00,$00,$00
3047 FOR I=0 TO 7: READ B: VPOKE $0,$E0B8+I,B: NEXT I
3048 DATA $77,$77,$77,$77,$00,$00,$00,$00
3049 FOR I=0 TO 7: READ B: VPOKE $0,$E0C0+I,B: NEXT I
3050 DATA $77,$77,$77,$77,$77,$00,$00,$00
3051 FOR I=0 TO 7: READ B: VPOKE $0,$E0C8+I,B: NEXT I
3052 DATA $07,$77,$77,$77,$77,$77,$00,$00
3053 FOR I=0 TO 7: READ B: VPOKE $0,$E0D0+I,B: NEXT I
3054 DATA $07,$77,$77,$77,$77,$77,$77,$70
3055 FOR I=0 TO 7: READ B: VPOKE $0,$E0D8+I,B: NEXT I
3056 DATA $00,$77,$77,$77,$77,$77,$77,$00
3057 FOR I=0 TO 7: READ B: VPOKE $0,$E0E0+I,B: NEXT I
3058 DATA $00,$07,$77,$77,$77,$77,$70,$00
3059 FOR I=0 TO 7: READ B: VPOKE $0,$E0E8+I,B: NEXT I
3060 DATA $00,$00,$77,$77,$77,$77,$00,$00
3061 FOR I=0 TO 7: READ B: VPOKE $0,$E0F0+I,B: NEXT I
3062 DATA $00,$00,$00,$77,$77,$00,$00,$00
3063 FOR I=0 TO 7: READ B: VPOKE $0,$E0F8+I,B: NEXT I
3064 DATA $00,$00,$00,$77,$77,$00,$00,$00
3065 FOR I=0 TO 7: READ B: VPOKE $0,$E100+I,B: NEXT I
3066 DATA $00,$00,$77,$77,$77,$77,$00,$00
3067 FOR I=0 TO 7: READ B: VPOKE $0,$E108+I,B: NEXT I
3068 DATA $00,$07,$77,$77,$77,$77,$70,$00
3069 FOR I=0 TO 7: READ B: VPOKE $0,$E110+I,B: NEXT I
3070 DATA $00,$77,$77,$77,$77,$77,$00,$00
3071 FOR I=0 TO 7: READ B: VPOKE $0,$E118+I,B: NEXT I
3072 DATA $07,$77,$77,$77,$77,$70,$00,$00
3073 FOR I=0 TO 7: READ B: VPOKE $0,$E120+I,B: NEXT I
3074 DATA $07,$77,$77,$77,$77,$00,$00,$00
3075 FOR I=0 TO 7: READ B: VPOKE $0,$E128+I,B: NEXT I
3076 DATA $77,$77,$77,$77,$70,$00,$00,$00
3077 FOR I=0 TO 7: READ B: VPOKE $0,$E130+I,B: NEXT I
3078 DATA $77,$77,$77,$77,$00,$00,$00,$00
3079 FOR I=0 TO 7: READ B: VPOKE $0,$E138+I,B: NEXT I
3080 DATA $77,$77,$77,$77,$00,$00,$00,$00
3081 FOR I=0 TO 7: READ B: VPOKE $0,$E140+I,B: NEXT I
3082 DATA $77,$77,$77,$77,$70,$00,$00,$00
3083 FOR I=0 TO 7: READ B: VPOKE $0,$E148+I,B: NEXT I
3084 DATA $07,$77,$77,$77,$77,$00,$00,$00
3085 FOR I=0 TO 7: READ B: VPOKE $0,$E150+I,B: NEXT I
3086 DATA $07,$77,$77,$77,$77,$70,$00,$00
3087 FOR I=0 TO 7: READ B: VPOKE $0,$E158+I,B: NEXT I
3088 DATA $00,$77,$77,$77,$77,$77,$00,$00
3089 FOR I=0 TO 7: READ B: VPOKE $0,$E160+I,B: NEXT I
3090 DATA $00,$07,$77,$77,$77,$77,$70,$00
3091 FOR I=0 TO 7: READ B: VPOKE $0,$E168+I,B: NEXT I
3092 DATA $00,$00,$77,$77,$77,$77,$00,$00
3093 FOR I=0 TO 7: READ B: VPOKE $0,$E170+I,B: NEXT I
3094 DATA $00,$00,$00,$77,$77,$00,$00,$00
3095 FOR I=0 TO 7: READ B: VPOKE $0,$E178+I,B: NEXT I
3096 DATA $00,$00,$00,$00,$00,$00,$00,$00
3097 FOR I=0 TO 7: READ B: VPOKE $0,$E180+I,B: NEXT I
3098 DATA $00,$00,$70,$00,$00,$07,$00,$00
3099 FOR I=0 TO 7: READ B: VPOKE $0,$E188+I,B: NEXT I
3100 DATA $00,$07,$70,$00,$00,$07,$70,$00
3101 FOR I=0 TO 7: READ B: VPOKE $0,$E190+I,B: NEXT I
3102 DATA $00,$77,$70,$00,$00,$07,$77,$00
3103 FOR I=0 TO 7: READ B: VPOKE $0,$E198+I,B: NEXT I
3104 DATA $07,$77,$77,$00,$00,$77,$77,$70
3105 FOR I=0 TO 7: READ B: VPOKE $0,$E1A0+I,B: NEXT I
3106 DATA $07,$77,$77,$00,$00,$77,$77,$70
3107 FOR I=0 TO 7: READ B: VPOKE $0,$E1A8+I,B: NEXT I
3108 DATA $77,$77,$77,$70,$07,$77,$77,$77
3109 FOR I=0 TO 7: READ B: VPOKE $0,$E1B0+I,B: NEXT I
3110 DATA $77,$77,$77,$70,$07,$77,$77,$77
3111 FOR I=0 TO 7: READ B: VPOKE $0,$E1B8+I,B: NEXT I
3112 DATA $77,$77,$77,$77,$77,$77,$77,$77
3113 FOR I=0 TO 7: READ B: VPOKE $0,$E1C0+I,B: NEXT I
3114 DATA $77,$77,$77,$77,$77,$77,$77,$77
3115 FOR I=0 TO 7: READ B: VPOKE $0,$E1C8+I,B: NEXT I
3116 DATA $07,$77,$77,$77,$77,$77,$77,$70
3117 FOR I=0 TO 7: READ B: VPOKE $0,$E1D0+I,B: NEXT I
3118 DATA $07,$77,$77,$77,$77,$77,$77,$70
3119 FOR I=0 TO 7: READ B: VPOKE $0,$E1D8+I,B: NEXT I
3120 DATA $00,$77,$77,$77,$77,$77,$77,$00
3121 FOR I=0 TO 7: READ B: VPOKE $0,$E1E0+I,B: NEXT I
3122 DATA $00,$07,$77,$77,$77,$77,$70,$00
3123 FOR I=0 TO 7: READ B: VPOKE $0,$E1E8+I,B: NEXT I
3124 DATA $00,$00,$77,$77,$77,$77,$00,$00
3125 FOR I=0 TO 7: READ B: VPOKE $0,$E1F0+I,B: NEXT I
3126 DATA $00,$00,$00,$77,$77,$00,$00,$00
3127 FOR I=0 TO 7: READ B: VPOKE $0,$E1F8+I,B: NEXT I
3128 DATA $00,$00,$00,$00,$00,$00,$00,$00
3129 FOR I=0 TO 7: READ B: VPOKE $0,$E200+I,B: NEXT I
3130 DATA $00,$00,$00,$00,$00,$00,$00,$00
3131 FOR I=0 TO 7: READ B: VPOKE $0,$E208+I,B: NEXT I
3132 DATA $00,$00,$00,$00,$00,$00,$00,$00
3133 FOR I=0 TO 7: READ B: VPOKE $0,$E210+I,B: NEXT I
3134 DATA $00,$70,$00,$00,$00,$00,$07,$00
3135 FOR I=0 TO 7: READ B: VPOKE $0,$E218+I,B: NEXT I
3136 DATA $07,$77,$00,$00,$00,$00,$77,$70
3137 FOR I=0 TO 7: READ B: VPOKE $0,$E220+I,B: NEXT I
3138 DATA $07,$77,$70,$00,$00,$07,$77,$70
3139 FOR I=0 TO 7: READ B: VPOKE $0,$E228+I,B: NEXT I
3140 DATA $77,$77,$77,$00,$00,$77,$77,$77
3141 FOR I=0 TO 7: READ B: VPOKE $0,$E230+I,B: NEXT I
3142 DATA $77,$77,$77,$70,$07,$77,$77,$77
3143 FOR I=0 TO 7: READ B: VPOKE $0,$E238+I,B: NEXT I
3144 DATA $77,$77,$77,$77,$77,$77,$77,$77
3145 FOR I=0 TO 7: READ B: VPOKE $0,$E240+I,B: NEXT I
3146 DATA $77,$77,$77,$77,$77,$77,$77,$77
3147 FOR I=0 TO 7: READ B: VPOKE $0,$E248+I,B: NEXT I
3148 DATA $07,$77,$77,$77,$77,$77,$77,$70
3149 FOR I=0 TO 7: READ B: VPOKE $0,$E250+I,B: NEXT I
3150 DATA $07,$77,$77,$77,$77,$77,$77,$70
3151 FOR I=0 TO 7: READ B: VPOKE $0,$E258+I,B: NEXT I
3152 DATA $00,$77,$77,$77,$77,$77,$77,$00
3153 FOR I=0 TO 7: READ B: VPOKE $0,$E260+I,B: NEXT I
3154 DATA $00,$07,$77,$77,$77,$77,$70,$00
3155 FOR I=0 TO 7: READ B: VPOKE $0,$E268+I,B: NEXT I
3156 DATA $00,$00,$77,$77,$77,$77,$00,$00
3157 FOR I=0 TO 7: READ B: VPOKE $0,$E270+I,B: NEXT I
3158 DATA $00,$00,$00,$77,$77,$00,$00,$00
3159 FOR I=0 TO 7: READ B: VPOKE $0,$E278+I,B: NEXT I
3160 DATA $00,$00,$00,$00,$00,$00,$00,$00

4000 GET A$
4100 IF A$="" THEN GOTO 4000
4200 IF A$=CHR$(29) AND X < 640 THEN GOSUB 5000
4300 IF A$=CHR$(157) AND X > 0 THEN GOSUB 6000
4400 IF A$=CHR$(17) AND Y < 480 THEN GOSUB 7000
4500 IF A$=CHR$(145) AND Y > 0 THEN GOSUB 8000
4600 GOTO 4000

4999 REM MOVE RIGHT
5000 X = X+1
5100 VPOKE $1,$FC12,X AND $FF
5200 VPOKE $1,$FC13,(X AND $0300)/$100
5250 HZ = 1
5300 GOSUB 9000
5400 VPOKE $1,$FC16,$0C : REM NO FLIP
5500 RETURN

5999 REM MOVE LEFT
6000 X = X-1
6100 VPOKE $1,$FC12,X AND $FF
6200 VPOKE $1,$FC13,(X AND $0300)/$100
6250 HZ = 1
6300 GOSUB 9000
6400 VPOKE $1,$FC16,$0D : REM H-FLIP
6500 RETURN

6999 REM MOVE DOWN
7000 Y = Y+1
7100 VPOKE $1,$FC14,Y AND $FF
7200 VPOKE $1,$FC15,(Y AND $0300)/$100
7250 HZ = 0
7300 GOSUB 9000
7350 VPOKE $1,$FC16,$0E : REM V-FLIP
7400 RETURN

7999 REM SCROLL UP
8000 Y = Y-1
8100 VPOKE $1,$FC14,Y AND $FF
8200 VPOKE $1,$FC15,(Y AND $0300)/$100
8250 HZ = 0
8300 GOSUB 9000
8350 VPOKE $1,$FC16,$0C : REM NO FLIP
8400 RETURN

8999 REM NEXT FRAME
9000 CF = CF + 1
9100 IF CF > 3 THEN CF = 0
9110 IF HZ = 1 THEN FR = FH(CF) : GOTO 9200
9120 FR = FV(CF)
9200 VPOKE $1,$FC10,FR
9300 CP = (((X+8)/8 AND $7F) + ((Y+8)*16 AND $7F80)) * 2
9400 IF CP > $3FFE THEN CP = $3FFE
9500 VPOKE 0,CP,$20
9900 RETURN
